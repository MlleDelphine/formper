{% extends "::baseadmin.html.twig" %}

{% block title %}
    {{ parent() }} - Listing des différents niveaux
{% endblock %}

{% block sidebarmenu %}
    {{ include('FormationAdminBundle::sidebar-menu.html.twig',{ 'pseudo': 'Delphine'}) }}
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    {% if form is defined %}
        <link rel="stylesheet" href="{{ asset('bundles/adminbundle/js/select2-4.0.0/css/select2.min.css') }}">
        {{ form_stylesheet(form) }}
    {% endif %}
{% endblock %}

 {% block headersection %}
     {{ include('FormationAdminBundle::header.html.twig') }}
 {% endblock %}

{% block body -%}
    <h1>Section formation</h1>

    <div class="col-md-12">
        <div class="block">
            <div class="block-title">
                <div class="block-options pull-right">
                    <a href="{{ path('formation') }}" class="btn btn-alt btn-sm btn-default toggle-bordered enable-tooltip" data-toggle="button" title="Retourner à la liste">Retour</a>
                </div>
                <h2>Création d'une formation</h2>
            </div>

            <form class="form-horizontal form-bordered" action="{{ path('formation_create') }}" method="post" {{ form_enctype(form) }}>
                <div class="form-group">
                    {{ form_label(form.name, null, {'label_attr': {'class':'col-md-3 control-label'} }) }}
                    <div class="col-md-9">
                        {{ form_widget(form.name, { 'attr': {'class': 'form-control'} }) }}
                    </div>
                </div>
                <div class="form-group">
                    {{ form_label(form.shortDescription, null, {'label_attr': {'class':'col-md-3 control-label'} }) }}
                    <div class="col-md-9">
                        {{ form_widget(form.shortDescription, { 'attr': {'class': 'form-control'} }) }}
                    </div>
                </div>
                <div class="form-group">
                    {{ form_label(form.longDescription, null, {'label_attr': {'class':'col-md-3 control-label'} }) }}
                    <div class="col-md-9">
                        {{ form_widget(form.longDescription, { 'attr': {'class': ''} }) }}
                    </div>
                </div>
                <div class="form-group">
                    {{ form_label(form.price, null, {'label_attr': {'class':'col-md-3 control-label'} }) }}
                    <div class="col-md-9">
                        {{ form_widget(form.price) }}
                    </div>
                </div>
                <div class="form-group">
                    {{ form_label(form.published, null, {'label_attr': {'class':'col-md-3 control-label'} }) }}
                    <div class="col-md-9">
                        {{ form_widget(form.published, { 'attr': {'class': 'form-control'} }) }}
                    </div>
                </div>
                {#<div class="form-group">#}
                {#{{ form_label(form.teacher, null, {'label_attr': {'class':'col-md-3 control-label'} }) }}#}
                {#<div class="col-md-9">#}
                {#{{ form_widget(form.teacher, { 'attr': {'class': 'select-select2', 'style': 'width: 100%'} }) }}#}
                {#</div>#}
                {#</div>#}
                <div class="form-group">
                    {{ form_label(form.level, null, {'label_attr': {'class':'col-md-3 control-label'} }) }}
                    <div class="col-md-9">
                        {{ form_widget(form.level, { 'attr': {'class': 'select-select2', 'style': 'width: 100%' } }) }}
                    </div>
                </div>
                <div class="form-group">
                    {{ form_label(form.technologies, null, {'label_attr': {'class':'col-md-3 control-label'} }) }}
                    <div class="col-md-9">
                        {{ form_widget(form.technologies, { 'attr': {'class': 'select-select2', 'style': 'width: 100%'} }) }}
                    </div>
                </div>
                {# Prérequis  #}
                <div class="form-group">
                    <label class="col-md-3 control-label">Prérequis</label>
                    <div class="col-md-9 requirements" data-prototype="
                     {% filter escape %}
             {{ include('FormationAdminBundle:Form:prototype_requirements.html.twig', { 'form': form.requirements.vars.prototype }) }}
         {% endfilter %}
                    ">
                        {%  for requirement in form.requirements %}
                            <div class="requirement-all-element">
                                <div class="col-md-5 requirement-element">
                                    {{ form_label(requirement.technology, null, {'label_attr': {'class':'col-md-3 control-label'} }) }}
                                    <div class="col-md-9">
                                        {{ form_widget(requirement.technology, { 'attr': {'class': 'select-select2', 'style': 'width: 100%'} } ) }}
                                    </div>
                                </div>
                                <div class="col-md-5 requirement-element">
                                    {{ form_label(requirement.level, null, {'label_attr': {'class':'col-md-3 control-label'} }) }}
                                    <div class="col-md-9">
                                        {{ form_widget(requirement.level, { 'attr': {'class': 'select-select2', 'style': 'width: 100%'} }) }}
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
                <div class="form-group form-actions">
                    <div class="col-md-3 col-md-offset-3">
                        {{ form_widget(form.submit) }}
                    </div>
                </div>
                {{ form_widget(form._token) }}
            </form>
        </div>
    </div>
{% endblock %}{% block scripts %}
    {{ parent() }}
    {% if form is defined %}
        <script src="{{ asset('bundles/adminbundle/js/tinymce/tinymce.min.js') }}"></script>
        <script src="{{ asset('bundles/adminbundle/js/custom/dynamic_fields.js') }}"></script>
        {{ form_javascript(form) }}
    {% endif %}
{% endblock %}

